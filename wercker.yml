box: debian
# checkout:
#   steps:
#     - install-packages:
#         packages: git ssh-client
#     - script:
#         name: initialize git submodules
#         code: |
#             git submodule update --init --recursive
build:
  steps:
    - install-packages:
        packages: git ssh-client
    - script:
        name: initialize git submodules
        code: |
            git submodule update --init --recursive
    - arjen/hugo-build:
        version: "0.58.3"
        config: config.toml
        theme: hugo-tranquilpeak-theme
        flags: --buildDrafts=false
deploy:
  steps:
    - install-packages:
        packages: git ssh-client
    - halberom/gh-pages@0.2.3:
        token: $GIT_TOKEN
        branch: master
        basedir: public